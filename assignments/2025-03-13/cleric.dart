import 'dart:math';

class Cleric {
  // í•„ë“œ (ì†ì„±ê°’)
  String name;
  int hp = 50;
  final int maxHp = 50;
  int mp = 10;
  final int maxMp = 10;

  // ìƒì„±ì
  Cleric(this.name) {
    print('ğŸ‰ğŸ® [ìºë¦­í„° íƒ„ìƒ] ğŸ®ğŸ‰');
    print('--------------------------------------');
    print('âœ¨ ì´ë¦„: $name');
    print('âœ¨ ì²´ë ¥: $hp / $maxHp');
    print('âœ¨ ë§ˆë‚˜: $mp / $maxMp');
    print('--------------------------------------');
    print('âš”ï¸ ë‹¹ì‹ ì˜ ëª¨í—˜ì´ ì´ì œ ì‹œì‘ë©ë‹ˆë‹¤, $name! âš”ï¸');
    print('--------------------------------------');
  }

  // mpë¡œ hp ìµœëŒ€ë¡œ íšŒë³µí•˜ê¸°
  void selfAid() {
    // if (hp == maxHp) {
    //   print('âœ¨ ì²´ë ¥ì´ ì´ë¯¸ ìµœëŒ€ì¹˜ì…ë‹ˆë‹¤! [ì…€í”„ì—ì´ë“œ]ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.');
    //   return;
    // }
    print('--------------------------------------');
    print('ğŸ§ª [ì…€í”„ì—ì´ë“œ] ë§ˆë²• ì¤€ë¹„ ì¤‘...');

    if (mp < 5) {
      print('ğŸ’¥ ë§ˆë‚˜ê°€ ë¶€ì¡±í•˜ì—¬ [ì…€í”„ì—ì´ë“œ]ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë§ˆë‚˜ê°€ $mp ë‚¨ì•˜ìŠµë‹ˆë‹¤.');
      print('âš ï¸ ë§ˆë‚˜ë¥¼ íšŒë³µí•˜ê±°ë‚˜ ë§ˆë²•ì„ ì‚¬ìš©í•˜ê¸° ì „ì— ë§ˆë‚˜ë¥¼ í™•ì¸í•˜ì„¸ìš”!');
    } else {
      mp -= 5;
      hp = maxHp;
      print('ğŸ’« ë§ˆë²• ë°œë™! ì²´ë ¥ì´ ìµœëŒ€ì¹˜ì¸ $maxHpë¡œ íšŒë³µë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
      print('ğŸ’  ë§ˆë‚˜ 5ë¥¼ ì†Œëª¨í–ˆìŠµë‹ˆë‹¤. ë‚¨ì€ ë§ˆë‚˜: $mp');
      print('--------------------------------------');
    }
  }

  // ê¸°ë„ ì‹œê°„ì— ë”°ë¼ mpíšŒë³µí•˜ê¸°
  int pray(int second) {
    final Random random = Random();

    // ê¸°ë„ ì‹œê°„ì— ë”°ë¼ íšŒë³µëŸ‰ ê²°ì • (0 ~ 2 ë³´ì •ê°’ ì¶”ê°€)
    int recoveryAmount = second + random.nextInt(3); // 0~2 ì‚¬ì´ì˜ ëœë¤ ê°’ ì¶”ê°€

    // ìµœëŒ€ MPë³´ë‹¤ íšŒë³µëŸ‰ì´ ë§ì§€ ì•Šë„ë¡ ì œí•œ
    recoveryAmount = min(recoveryAmount, maxMp - mp);

    mp += recoveryAmount; // ì‹¤ì œ MP íšŒë³µ
    print('--------------------------------------');
    print('â›ª [ê¸°ë„] $second ì´ˆ ë™ì•ˆ ê¸°ë„í•˜ë©° ë§ˆë‚˜ë¥¼ íšŒë³µ ì¤‘...');
    print('âœ¨ ê¸°ë„ í›„, ì‹¤ì œ íšŒë³µëœ ë§ˆë‚˜: $recoveryAmount');
    print('ğŸ’  í˜„ì¬ ë§ˆë‚˜: $mp / $maxMp');
    if (mp == maxMp) {
      print('ğŸ’¥ ë§ˆë‚˜ê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤! ë” ì´ìƒ ê¸°ë„í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.');
    }
    print('--------------------------------------');
    return recoveryAmount;
  }
}
