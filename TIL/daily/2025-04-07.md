# ğŸ“„ 2025-04-07
---

### ğŸ›  í•˜ë“œì½”ë”© ì—†ì´ í—¤ë” ì‘ì„±í•˜ëŠ” ë²•

ë³´í†µ ì´ë ‡ê²Œ í—¤ë”ë¥¼ ì‘ì„±í•˜ê²Œ ëœë‹¤:

```dart

final headers = {
  HttpHeaders.contentType: 'application/json; charset=utf-8',
};
```

í•˜ë“œì½”ë”©ì„ í”¼í•˜ê³  ì‹¶ì€ë°â€¦ ê·¸ ë’¤ì—ëŠ” ì˜ ëª¨ë¥´ê² ë‹¤.  
(â†’ ì•„ë§ˆ authorization ê°™ì€ ë‹¤ë¥¸ í—¤ë”ë„ ì •ë¦¬í•˜ê³  ì‹¶ì—ˆë˜ ê±¸ë¡œ ë³´ì„)

> ğŸ’¡ `HttpHeaders`ì— ì •ì˜ëœ ìƒìˆ˜ë“¤ ì˜ˆì‹œ
> - `HttpHeaders.authorizationHeader`
> - `HttpHeaders.acceptHeader`
> - `HttpHeaders.contentTypeHeader`
> - `HttpHeaders.userAgentHeader`

---

## ğŸ”¥ ì´ˆì‹¤ì „ ë‹¨ì¶•í‚¤ ëª¨ìŒ (Windows ê¸°ì¤€ / macOSëŠ” ê´„í˜¸)

---

### ğŸ’¡ ì½”ë“œ ìë™ ì™„ì„± & ìˆ˜ì •

| ê¸°ëŠ¥                | ë‹¨ì¶•í‚¤                                   |
|-------------------|---------------------------------------|
| ìë™ì™„ì„±              | `Ctrl + Space` (`Cmd + Space`)        |
| ë¹ ë¥¸ ìˆ˜ì • ì œì•ˆ (ì „êµ¬ ì•„ì´ì½˜) | `Alt + Enter` (`Option + Enter`)      |
| import ìë™ ì •ë¦¬      | `Ctrl + Alt + O` (`Cmd + Option + O`) |

---

### âœ‚ï¸ ë¼ì¸ ë³µì‚¬/ì‚­ì œ/ì´ë™

| ê¸°ëŠ¥        | ë‹¨ì¶•í‚¤                                          |
|-----------|----------------------------------------------|
| ì¤„ ë³µì‚¬      | `Ctrl + D` (`Cmd + D`)                       |
| ì¤„ ì‚­ì œ      | `Ctrl + Y` (`Cmd + Delete`)                  |
| ì¤„ ìœ„/ì•„ë˜ ì´ë™ | `Shift + Alt + â†‘/â†“` (`Option + Shift + â†‘/â†“`) |

---

### ğŸ§­ ì´ë™/ê²€ìƒ‰

| ê¸°ëŠ¥          | ë‹¨ì¶•í‚¤                                                   |
|-------------|-------------------------------------------------------|
| ì‹¬ë³¼/í´ë˜ìŠ¤ ì°¾ê¸°   | `Ctrl + Shift + Alt + N` (`Cmd + Shift + Option + N`) |
| íŒŒì¼ ì—´ê¸°       | `Ctrl + Shift + N` (`Cmd + Shift + O`)                |
| ì„ ì–¸ë¶€ë¡œ ì´ë™     | `Ctrl + B` ë˜ëŠ” `Ctrl + í´ë¦­` (`Cmd + B` or `Cmd + í´ë¦­`)   |
| ìµœê·¼ íŒŒì¼ ë³´ê¸°    | `Ctrl + E` (`Cmd + E`)                                |
| ì´ì „/ë‹¤ìŒ ìœ„ì¹˜ ì´ë™ | `Ctrl + Alt + â†/â†’` (`Cmd + Option + â†/â†’`)             |

---

### ğŸ§¹ ì½”ë“œ ì •ë¦¬ & í¬ë§·

| ê¸°ëŠ¥          | ë‹¨ì¶•í‚¤                                        |
|-------------|--------------------------------------------|
| ì½”ë“œ ì •ë ¬ (í¬ë§·íŒ…) | `Ctrl + Alt + L` (`Cmd + Option + L`)      |
| ì½”ë“œ ì ‘ê¸°/í¼ì¹˜ê¸°   | `Ctrl + -/+` (`Cmd + -/+`)                 |
| ì „ì²´ ì ‘ê¸°/í¼ì¹˜ê¸°   | `Ctrl + Shift + -/+` (`Cmd + Shift + -/+`) |

---

### ğŸ› ë””ë²„ê¹… & ì‹¤í–‰

| ê¸°ëŠ¥             | ë‹¨ì¶•í‚¤                        |
|----------------|----------------------------|
| ì‹¤í–‰             | `Shift + F10` (`Ctrl + R`) |
| ë””ë²„ê¹… ì‹¤í–‰         | `Shift + F9` (`Cmd + D`)   |
| ì¤‘ë‹¨ì  í† ê¸€         | `Ctrl + F8` (`Cmd + F8`)   |
| ë””ë²„ê·¸ â†’ ë‹¤ìŒ ì¤„ë¡œ ì´ë™ | `F8`                       |
| ë””ë²„ê·¸ â†’ ì•ˆìœ¼ë¡œ ë“¤ì–´ê°€ê¸° | `F7`                       |

---

## ğŸ’¡ Dart/Flutter íŠ¹í™” íŒ

- **StatefulWidget â†’ ìë™ ìƒì„±**: `stful` + `Tab`
- **StatelessWidget â†’ ìë™ ìƒì„±**: `stless` + `Tab`
- **override ë©”ì„œë“œ ìë™ ì™„ì„±**: `@override` ì…ë ¥ í›„ `Ctrl + Space`

---
ì¢‹ì•„, `02ë¬¸ì„œ.md`ë„ ì›ë³¸ ë§íˆ¬ë‘ íë¦„ì€ ì‚´ë¦¬ë˜,

- ë¬¸ì¥ ì •ëˆ
- ì„¤ëª… ë¶€ì¡±í•œ ê³³ì€ ë³´ì™„
- ì½”ë“œ ë¸”ëŸ­ì€ ë“¤ì—¬ì“°ê¸° í†µì¼
- ê°•ì¡°/ë¶„ë¦¬ í¬ì¸íŠ¸ëŠ” ì¢€ ë” ë³´ê¸° ì¢‹ê²Œ  
  ì •ë¦¬í•´ë´¤ì–´.

---

# ğŸ§ª Result íŒ¨í„´

---

## ì„œë²„ì— ë°ì´í„° ìš”ì²­ ì‹œ ì˜ˆìƒë˜ëŠ” ìƒí™©

- ì„±ê³µ (Success)
- ì‹¤íŒ¨ (Error)  
  â”” ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì•„ì˜ˆ ì•ˆ ë¨  
  â”” ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • â†’ íƒ€ì„ì•„ì›ƒ  
  â”” ê¸°íƒ€ ë“±ë“±...

---

## â— ì—ëŸ¬ ì²˜ë¦¬ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ try - catch

ì˜ˆì™¸ëŠ” `try - catch`ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²Œ ê¸°ë³¸ì´ì§€ë§Œ,  
ëŸ°íƒ€ì„ ì—ëŸ¬ë¿ë§Œ ì•„ë‹ˆë¼ **ë…¼ë¦¬ì ì¸ ì˜¤ë¥˜ë‚˜ ì˜ˆì™¸ ìƒí™©**ê¹Œì§€ ì²˜ë¦¬í•˜ê¸°ì—ëŠ” ë¶€ì¡±í•˜ë‹¤.

â†’ ê·¸ë˜ì„œ `Result íŒ¨í„´`ì´ ë“±ì¥í•¨

---

## âœ… Result íŒ¨í„´ì´ë€?

- ì„±ê³µê³¼ ì‹¤íŒ¨ ì¤‘ **í•˜ë‚˜ë§Œ ë°˜í™˜**í•˜ëŠ” êµ¬ì¡°
- ì„±ê³µ ì‹œì—ëŠ” ë°ì´í„°ë¥¼ ë‹´ê³ , ì‹¤íŒ¨ ì‹œì—ëŠ” ì—ëŸ¬ ì •ë³´ë¥¼ ë‹´ìŒ
- `sealed class`ë¥¼ ì´ìš©í•´ì„œ êµ¬í˜„ ê°€ëŠ¥ (enum ë¹„ìŠ·í•˜ì§€ë§Œ ë” ìœ ì—°í•¨)

ğŸ“ sealed ë¬¸ë²•: [dart.dev sealed](https://dart.dev/language/class-modifiers#sealed)

---

## ğŸ“¦ ê¸°ë³¸ êµ¬ì¡° ì˜ˆì‹œ

```dart
sealed class Result<T> {
  factory Result.success(T data) = Success;

  factory Result.error(String message) = Error;
}

class Success<T> implements Result<T> {
  final T data;

  Success(this.data);
}

class Error<T> implements Result<T> {
  final String message;

  Error(this.message);
}
```

---

## âœ¨ Result íŒ¨í„´ìœ¼ë¡œ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë°”ê¾¸ê¸°

```dart
Future<List<Photo>> fetch(String query); // before

Future<Result<List<Photo>>> fetch(String query); // after
```

---

## ğŸ’¥ ì˜ˆì™¸ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ” ê³³ì—ì„œëŠ” try - catch ì‚¬ìš©

```dart
class MovieRepositoryImpl implements MovieRepository {
  final MovieDataSource _dataSource;

  MovieRepositoryImpl(this._dataSource);

  @override
  Future<Result<MovieDetail>> getMovieDetail(int id) async {
    if (id < 0) {
      return Result.error('id ì—ëŸ¬');
    }

    try {
      final movieDetailDto = await _dataSource.getMovieDetailDto(id);
      return Result.success(movieDetailDto.toMovieDetail());
    } catch (e) {
      return Result.error('ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬');
    }
  }
}
```

â†’ ì—¬ëŸ¬ ì¢…ë¥˜ì˜ ì—ëŸ¬ë¥¼ êµ¬ë¶„í•´ì„œ ë°˜í™˜ ê°€ëŠ¥

---

## ğŸ’¡ Result íŒ¨í„´ íš¨ê³¼

- enumê³¼ ì¡°í•©í•˜ë©´ `switch-case`ë¡œ **ëª¨ë“  ê²½ìš° ì²˜ë¦¬ ê°•ì œ ê°€ëŠ¥**
- ì„±ê³µ/ì‹¤íŒ¨ì— ëŒ€í•œ ë¶„ê¸° ì²˜ë¦¬ê°€ **ëª…í™•í•´ì§**

```dart

final repository = UserRepository();
final usersResult = await
repository.getUsers
();

switch
(
usersResult) {
case Success<List<User>>():
print('ì„±ê³µ : ${usersResult.data}');
case Error<List<User>>():
print('ì‹¤íŒ¨ : ${usersResult.message}');
}
```

---

## ğŸ§¬ Freezed ì‚¬ìš©í•œ Result í´ë˜ìŠ¤ (Ver. 1)

```dart
import 'package:freezed_annotation/freezed_annotation.dart';

part 'result.freezed.dart';

@freezed
sealed class Result<T> with _$Result<T> {
  const factory Result.success(T data) = Success;

  const factory Result.error(Exception e) = Error;
}
```

ë™ì¼í•œ ê¸°ëŠ¥, ì§ì ‘ êµ¬í˜„ë„ ê°€ëŠ¥:

```dart
sealed class Result<T> {
  factory Result.success(T data) = Success;

  factory Result.error(Exception e) = Error;
}

class Success<T> implements Result<T> {
  final T data;

  Success(this.data);
}

class Error<T> implements Result<T> {
  final Exception e;

  Error(this.e);
}
```

---

## ğŸ§¬ Freezed ì‘ìš© ë²„ì „ (Ver. 2)

```dart
@freezed
sealed class Result<D, E> with _$Result<D, E> {
  const factory Result.success(D data) = Success;

  const factory Result.error(E error) = Error;
}
```

- `D`: ë°ì´í„°
- `E`: ì—ëŸ¬ íƒ€ì… (ì§ì ‘ ì •ì˜ ê°€ëŠ¥)

---

## âš™ï¸ ì‚¬ìš© ì˜ˆì‹œ

```dart
Future<Result<List<Todo>, String>> getTodos();
// ì„±ê³µ: List<Todo>, ì‹¤íŒ¨: String ë©”ì‹œì§€

Future<Result<Todo, Exception>> getTodo(int id);
// ì„±ê³µ: Todo, ì‹¤íŒ¨: Exception
```

---

## ğŸ“› ì—ëŸ¬ íƒ€ì…ì„ ì§ì ‘ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤

```dart
enum NetworkError {
  requestTimeout,
  unknown,
}

abstract interface class PhotoRepository {
  Future<Result<List<Photo>, NetworkError>> getPhotos();
}
```

---

## ğŸ’¥ Repositoryì—ì„œ ì˜ˆì™¸ ì²˜ë¦¬ ì˜ˆì‹œ

```dart
class PhotoRepositoryImpl implements PhotoRepository {
  final PhotoApi _api;

  PhotoRepositoryImpl(this._api);

  @override
  Future<Result<List<Photo>, NetworkError>> getPhotos() async {
    try {
      final dtoList = await _api.getPhotoDtoList().timeout(Duration(seconds: 10));
      return Result.success(dtoList.map((e) => e.toPhoto()).toList());
    } on TimeoutException {
      return Result.error(NetworkError.requestTimeout);
    } catch (_) {
      return Result.error(NetworkError.unknown);
    }
  }
}
```

---

## ğŸ§¼ ìµœì¢… ì²˜ë¦¬ë¶€ ì˜ˆì‹œ

```dart
void main() async {
  final photoRepository = PhotoRepositoryImpl(PhotoApiImpl());

  final result = await photoRepository.getPhotos();

  switch (result) {
    case Success<List<Photo>, NetworkError>():
      print(result.data);
    case Error<List<Photo>, NetworkError>():
      switch (result.error) {
        case NetworkError.requestTimeout:
          print('íƒ€ì„ì•„ì›ƒ');
        case NetworkError.unknown:
          print('ì•Œ ìˆ˜ ì—†ëŠ” ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬');
      }
  }
}
```

---

## ğŸ“ ì¶”ì²œ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
data_source/
  â””â”€â”€ photo_data_source.dart
dto/
  â””â”€â”€ photo_dto.dart
mapper/
  â””â”€â”€ photo_mapper.dart
model/
  â”œâ”€â”€ photo.dart
  â””â”€â”€ photo_error.dart
repository/
  â””â”€â”€ photo_repository.dart
core/
  â””â”€â”€ result.dart
```

---

## ğŸ Result íŒ¨í„´ ì‚¬ìš© ì‹œ ì¥ì  ëª¨ìŒ (ì›ë³¸ ì˜ˆì‹œ í¬í•¨ ì™„ì „íŒ)

---

### 1. íƒ€ì… ì•ˆì „ì„± í–¥ìƒ

```dart
// Result íŒ¨í„´ ì‚¬ìš© ì „
User? registerUser(String email, String password) {
  if (!isValidEmail(email)) return null; // ì™œ ì‹¤íŒ¨í–ˆëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŒ
}
```

```dart
// Result íŒ¨í„´ ì‚¬ìš© í›„
Result<User, RegistrationError> registerUser(String email, String password) {
  if (!isValidEmail(email)) {
    return const Result.error(error: RegistrationError.invalidEmail());
  }
}
```

> âœ… ì‹¤íŒ¨ ì‚¬ìœ ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ë‹´ì„ ìˆ˜ ìˆìŒ

---

### 2. ì—ëŸ¬ ì²˜ë¦¬ ê°•ì œì„± (ì»´íŒŒì¼ëŸ¬ê°€ ëª¨ë“  ì¼€ì´ìŠ¤ë¥¼ ê°•ì œ)

```dart
switch (usersResult) {
case Success<List<User>>():
print('ì„±ê³µ : ${usersResult.data.toString()}');
case Error<List<User>>():
print('ì‹¤íŒ¨ : ${usersResult.message}');
}
```

> âœ… ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ëˆ„ë½ ì—†ì´ ì²˜ë¦¬í•˜ë„ë¡ ì»´íŒŒì¼ ì‹œì ì—ì„œ í™•ì¸ ê°€ëŠ¥

---

### 3. ì—ëŸ¬ íƒ€ì…ì˜ ëª…í™•í•œ ë¬¸ì„œí™”

```dart
// ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ë§Œ ë´ë„ ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆëŠ”ì§€ ëª…í™•í•¨
Future<Result<User, RegistrationError>> registerUser({
  required String email,
  required String password,
});
```

> âœ… ê°œë°œì í˜‘ì—… ì‹œ ì˜ë„ ëª…í™• ì „ë‹¬, ë¬¸ì„œí™” ìë™ íš¨ê³¼

---

### 4. try - catch ë‚¨ìš© ë°©ì§€

```dart
// try-catch ì‚¬ìš©
try {
final user = await registerUser(email, password);
} catch (e) {
if (e is InvalidEmailError) {
// ì²˜ë¦¬
} else if (e is WeakPasswordError) {
// ì²˜ë¦¬
}
}
```

> ğŸ˜µ ì—ëŸ¬ ë¶„ê¸° ì§ì ‘ í•´ì•¼ í•¨

```dart
// Result íŒ¨í„´
final result = await

registerUser(email, password);

switch (
result) {
case Success<User, RegistrationError>(data: final user):
// ì„±ê³µ ì²˜ë¦¬
case Error<User, RegistrationError>(error: final error):
// ì‹¤íŒ¨ ì²˜ë¦¬
}
```

> âœ… ë¶„ê¸° ë¡œì§ì´ ê¹”ë”í•´ì§

---

### 5. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì—ëŸ¬ ì²˜ë¦¬ ë¶„ë¦¬

```dart
// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
Result<User, RegistrationError> registerUser
(...) {
// ìˆœìˆ˜í•œ ë¡œì§ë§Œ ì‘ì„±
}

// ì—ëŸ¬ ì²˜ë¦¬
void handleRegistration(Result<User, RegistrationError> result) {
switch (result) {
case Success():
// UI ë°˜ì˜
case Error():
// ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
}
}
```

> âœ… ì—­í•  ë¶„ë¦¬ë¡œ ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í…ŒìŠ¤íŠ¸ì„± í–¥ìƒ

---

### 6. ì˜µì…”ë„(Nullable) íƒ€ì… ì‚¬ìš© ê°ì†Œ

```dart
// ê¸°ì¡´ ë°©ì‹
User? user = await

registerUser();if (
user != null) {
// null ì²´í¬ í•„ìš”
}
```

```dart
// Result íŒ¨í„´
Result<User, RegistrationError> result = await

registerUser();
// null ì²´í¬ ì—†ì´ ë°”ë¡œ ë¶„ê¸° ê°€ëŠ¥
```

> âœ… null-safe ì½”ë“œ ì‘ì„± ê°€ëŠ¥

---

### 7. í…ŒìŠ¤íŠ¸ ìš©ì´ì„±

```dart
test
('ì´ë©”ì¼ì´ ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°˜í™˜í•œë‹¤
'
, () {
final result = registerUser(email: 'invalid-email', password: 'password');

expect(
result,
Result<User, RegistrationError>.error(
error: RegistrationError.invalidEmail(),
),
);
});
```

> âœ… ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë¥¼ ëª…í™•í•˜ê²Œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŒ

---

### 8. íŒ¨í„´ ë§¤ì¹­ì„ í†µí•œ ê°€ë…ì„± í–¥ìƒ

```dart
switch (result) {
case Success(data: final user):
handleSuccess(user);
case Error(error: final error):
switch (error) {
case InvalidEmailError():
handleInvalidEmail();
case WeakPasswordError():
handleWeakPassword();
case NetworkError():
handleNetworkError();
}
}
```

> âœ… íƒ€ì… ê¸°ë°˜ ë¶„ê¸° ì²˜ë¦¬ê°€ í•œ ëˆˆì— ë“¤ì–´ì˜´

---

## ğŸ§¾ ì •ë¦¬

- `enum`ì€ `hashCode`, `equals` ì¬ì •ì˜ ë¶ˆê°€
- `sealed class`ëŠ” í•˜ìœ„ íƒ€ì…ì„ **ë´‰ì¸**í•´ì„œ ë” ìœ ì—°í•œ ì²˜ë¦¬ ê°€ëŠ¥
- **Result íŒ¨í„´**ì€ ì„±ê³µ/ì‹¤íŒ¨ë¥¼ êµ¬ë¶„ ì²˜ë¦¬í•˜ê¸°ì— ë§¤ìš° ìœ ìš©
- **ì•± ê·œëª¨ì— ë”°ë¼ ì ìš© ë°©ë²• ì„ íƒ**
    - ì†Œê·œëª¨: Ver.1 (ë‹¨ì¼ íƒ€ì…)
    - ì¤‘ê·œëª¨ ì´ìƒ: Ver.2 (ì—ëŸ¬ íƒ€ì… ëª…ì‹œ)

---
