
### 모든 클래스는 Object 클래스의 메서드와 프로퍼티를 가지고 있다

- Dart의 모든 클래스는 암묵적으로 `Object` 클래스를 상속받음.
- 따라서 모든 클래스는 `Object`의 메서드와 프로퍼티를 기본적으로 가짐.

#### Object 타입 변수는 모든 인스턴스를 대입 가능

- `Object` 타입은 최상위 타입이라 모든 클래스의 객체를 담을 수 있음.

### Object 클래스의 대표 메서드와 프로퍼티

- **toString()** : 객체를 대표하는 문자열을 반환함.
- **operator ==** : 객체의 동등성을 비교함.
- **hashCode** : 객체의 해시값(정수)을 반환함.

### 동등성 규칙(equality)

- 객체의 내용이 같은지 판단하는 기준임.
- Dart에서 기본적인 동등성은 메모리상 위치로 결정됨.
- 개발자가 직접 `operator ==` 메서드를 재정의하여, 객체의 특정 속성이나 값을 기준으로 동등성을 비교하도록 정의할 수 있음.

### identical() 메서드

- 두 객체가 메모리상에서 완전히 동일한 객체인지 검사하는 함수.
- 객체의 참조(메모리 주소)를 비교해서 판단함.

```dart
identical(obj1, obj2); // 두 객체가 같은 메모리 주소인지 확인
```

### 재정의(override) 시 주의사항

- `operator ==` : 리스트(List) 내부에서 동등성 비교를 위해 사용됨.
- `hashCode` : 집합(Set)과 맵(Map) 내부에서 객체의 고유성 판단 기준으로 사용됨.

## 해시코드(hashCode)

- 해시코드는 객체를 고유하게 식별하는 정수값임.
- 주로 Set과 Map 같은 컬렉션에서 객체 관리나 성능 향상을 위해 사용됨.

### hashCode 오버라이드 방법

- 객체 내부의 여러 속성(멤버)의 해시코드를 XOR(`^`) 연산하여 결합하면 효율적으로 해시코드를 생성할 수 있음.

```dart
@override
int get hashCode {
  return name.hashCode ^ age.hashCode; // XOR 연산으로 결합
}
```

### XOR 연산(^)이란?

- 두 값이 다르면 1, 같으면 0을 반환하는 비트연산.
- XOR 연산을 활용하면 서로 다른 여러 속성을 간편히 하나의 값으로 결합 가능.
- 빠르고 효율적인 해시코드 생성에 적합함.

## 리스트에서 요소 정렬

- Dart의 리스트는 기본적으로 `List.sort()`로 정렬 가능.

### sort() 메서드 특징

- 원본 리스트를 직접 수정하여 정렬함.
- 기본은 오름차순 정렬이며, 다른 정렬 방식은 직접 옵션을 주면 됨.

```dart
list.sort(); // 오름차순(기본)
list.sort((a, b) => b.compareTo(a)); // 내림차순
```

- **Comparable 인터페이스**를 구현한 타입만 sort() 가능.

### Comparable 인터페이스

- 클래스가 정렬 가능하려면 반드시 구현해야 하는 인터페이스.
- `compareTo()` 메서드를 정의하여 객체 간 순서를 결정함.

### 외부 정렬 라이브러리 활용

- 원본 리스트 수정 없이 정렬된 복사본을 반환하려면 외부 라이브러리 사용 추천(`collection` 라이브러리).

- [https://pub.dev](https://pub.dev)

#### 자주 쓰이는 메서드

- **sorted()** : 정렬된 새 리스트를 반환함.
- **sortedBy()** : 특정 기준으로 오름차순 정렬한 복사본을 반환함.

### Comparator<T> typedef

- 정렬할 때 사용하는 비교 함수 타입을 정의하는 typedef임.
- 두 객체를 인수로 받아 정수값(-1, 0, 1)을 반환하여 정렬 규칙을 결정함.

```dart
typedef Comparator<T> = int Function(T a, T b);
```

## sealed class (봉인 클래스)

- 클래스의 상속을 제한하는 클래스 타입.
- 외부에서 임의로 상속할 수 없고, 선언된 같은 파일 내에서만 상속 가능함.
- Dart 3부터 공식 지원하며, 주로 타입 안정성과 패턴 매칭에 사용됨.

```dart
sealed class Animal {}

class Dog extends Animal {}
class Cat extends Animal {}
```

## 인스턴스 복사(copyWith())

- 객체의 내용을 일부만 변경하거나 그대로 복사할 때 사용하는 메서드.
- 불변성을 유지할 때 특히 유용함.

```dart
Person copyWith({String? name, int? age}) {
  return Person(
    name: name ?? this.name,
    age: age ?? this.age,
  );
}
```

## 얕은 복사 vs 깊은 복사

### 얕은 복사(shallow copy)

- 객체의 필드를 그대로 복사하여 새로운 객체를 생성하지만, 객체가 참조하는 내부 데이터는 원본과 동일한 데이터를 가리킴(참조 복사).
- 결과적으로 내부 참조 데이터는 원본과 동일함.

### 깊은 복사(deep copy)

- 객체 내부의 데이터까지 완전히 새로운 인스턴스로 생성하여 복사함.
- 원본과 복사본의 내부 데이터는 서로 다른 객체가 됨.

### 객체 비교 및 표현 메서드 재정의

객체의 동등성 비교 규칙을 위한 재정의:

- `operator ==` (equals)
- `hashCode`

객체의 내용을 쉽게 표현하기 위한 재정의:

- `toString()`

객체의 얕은 복사를 지원하는 메서드:

- `copyWith()`
