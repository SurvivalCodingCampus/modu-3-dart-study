- DTO, Mapper 이 Data, Ropository, Model  에 어떻게 적용되는가?

![image.png](attachment:40718d74-b7f4-4942-96a3-08ff058f404d:image.png)

## 핵심 개념 정리

| 개념 | 역할 | 특징 |
| --- | --- | --- |
| Model Class | 실제 앱에서 쓰는 데이터 클래스 | 비즈니스 로직 전용, 타입 명확 |
| DTO (Data Transfer Object) | 외부 데이터 포맷 그대로 받는 클래스 | 필드 유연, Nullable 많음 |
| Mapper | DTO → Model 변환 클래스 | 타입 보정, 값 처리, 변환 로직 담당 |

---

## 구조 비교 정리

### 1. DTO, Mapper 없는 구조

(초기 개발 단계, 작은 프로젝트)

```
Remote DB → DataSource → Repository → Model Class장점
```

|  | 단점 |
| --- | --- |
| 빠르고 간단 | Json 구조 변경에 취약 |
| 코드 적음 | 필드 처리 반복 발생 |
| 관리 용이 | 테스트 어려움, 확장성 낮음 |

---

### 2. DTO, Mapper 사용하는 구조

(중/대형 프로젝트, 실무 권장, 외부 API 가져오는 경우)

```
Remote DB → DataSource → DTO → Mapper → Model Class → Repository
```

| 장점 | 단점 |
| --- | --- |
| Json 구조 변화 대응 용이 | 클래스, 파일 많아짐 |
| Mapper 통해 값 가공 쉬움 | 처음 설계 부담 |
| 테스트 편리 | 코드량 증가 |
| 가독성 + 유지보수 우수 | 작은 프로젝트엔 과함 |

---

## 언제 DTO, Mapper를 추가해야 하나?

| 상황 | 권장 여부 | 이유 |
| --- | --- | --- |
| API 구조가 자주 바뀌는 경우 | 무조건 추천 | Json 구조 변경에 대응 쉽고, Model은 고정 가능 |
| DB 필드와 Model 구조가 다른 경우 | 무조건 추천 | Mapper에서 유연하게 변환 처리 가능 |
| 복잡한 가공 로직이 필요한 경우 | 무조건 추천 | Mapper 역할 필수 |
| Json 구조 그대로 써도 무방 | 안 써도 OK | 예: 개인 앱, 간단 CRUD |

---

## 안 써도 되는 경우

- Json 구조 변경 가능성 적음
- 필드 수 적음 (2~3개)
- 작은 프로젝트 / 프로토타입
- 빠르게 개발해야 할 때 (POC)

---

## 정리한 장점 (DTO + Mapper)

| 장점 | 설명 |
| --- | --- |
| Model Class 보호 | Json 구조가 바뀌어도 Model Class 유지 가능 |
| 값 처리 일관성 | int → String, null 처리, 기본값 처리 용이 |
| 가독성 | Model은 앱 내부 전용, DTO는 외부 전용 |
| 유지보수 편리 | 필드 추가/변경 쉽게 관리 |
| 테스트 편리 | 각 레이어별 테스트 가능 |
| 비즈니스 로직 분리 | 깔끔한 레이어드 아키텍처 실현 |

---

## 추가로 알아두면 좋은 개념

| 개념 | 설명 |
| --- | --- |
| fromJson | DTO 만들 때 주로 사용하는 생성자 |
| toJson | 서버 전송용 데이터 변환 |
| Nullable 처리 | DTO는 서버 데이터 신뢰 못하므로 많이 사용 |
| 기본값 처리 | Mapper에서 null → 기본값 변환 자주 사용 |

---

## 창업 후 프로젝트에 진행시

> 작은 프로젝트는 DTO/Mapper 없이, 표준 문서에 명확히 정의해서 진행
>
>
> 그러나 실무, 유지보수, 협업, 외부 API가 자주 바뀌면 DTO/Mapper는 필수.
>
> 프로젝트가 커질 것을 예상된다면 초기부터 적용
>